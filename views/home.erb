<p class="m-6 text-3xl font-bold tracking-tight text-flow text-gray-900 sm:text-4xl">Search positions & salaries.</p>
<div class="relative m-4 flex flex-1 justify-center px-2 absolute sm:inset-0">
    <div class="w-full sm:max-w-2lg">
        <div class="relative" hx-boost="true">
            <div class="absolute inset-y-0 left-0 flex items-center">
                <select id="state" name="state" required
                class="bg-white"
                        hx-target="this">
                    <% @geos.each do |geo| %>
                        <option value="<%= geo %>"><%= geo %></option>
                    <% end %>
                </select>
            </div>
            <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center py-4 mx-40">
                <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                </svg>
            </div>
            <div class="">
                <input
                    required
                    type="search"
                    placeholder="Enter an occupation title..."
                    autocomplete="off"
                    name="job-title"
                    class="block w-full rounded-full border-0 py-1.5 pl-48 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                    minlength="1"
                    hx-post="/search"
                    hx-validate="true"
                    hx-trigger="input changed delay:500ms, input changed from:#state"
                    hx-target="#search-results"
                    hx-include="[name='state']">
            </div>
        </div>
    </div>
</div>

<div id="search-results" class="h-full bg-white mx-4 shadow-sm">
</div>
